if not config.enable_cuda:
    # We need the CUDA toolkit to run end-to-end compilation tests
    # through PTX due to dependency on libdevice.
    # TODO: we could factor out tests requiring libdevice, which would allow running
    # most tests here.
    config.unsupported = True
